{"ast":null,"code":"var _jsxFileName = \"/Users/siddheshgarge/React/hellp-world/src/components/TakeSurvey.js\",\n  _s = $RefreshSig$();\n// src/components/TakeSurvey.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TakeSurvey = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    fetchSurvey();\n  }, [id]);\n  const fetchSurvey = async () => {\n    try {\n      const response = await axios.get(`http://localhost:8080/api/surveys/${id}`);\n      setSurvey(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching survey:', error);\n      setLoading(false);\n    }\n  };\n  const handleAnswerChange = (questionId, optionId) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: optionId\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setSubmitting(true);\n    try {\n      const answersArray = Object.entries(answers).map(([questionId, selectedOptionId]) => ({\n        questionId: parseInt(questionId),\n        selectedOptionId: parseInt(selectedOptionId)\n      }));\n      await axios.post(`http://localhost:8080/api/surveys/${id}/respond`, {\n        answers: answersArray\n      });\n      alert('Survey submitted successfully!');\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error submitting survey:', error);\n      alert('Failed to submit survey. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading survey...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 12\n    }, this);\n  }\n  if (!survey) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: \"Survey not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  const allQuestionsAnswered = survey.questions.every(q => answers[q.id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"take-survey\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"survey-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/dashboard'),\n        className: \"btn btn-secondary\",\n        children: \"Back to Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: survey.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: survey.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"survey-meta\",\n        children: [\"Created by: \", survey.creatorUsername]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"survey-form\",\n      children: [survey.questions.map(question => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: question.questionText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"options\",\n          children: question.options.map(option => /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"option-label\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `question-${question.id}`,\n              value: option.id,\n              onChange: () => handleAnswerChange(question.id, option.id),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: option.optionText\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this)]\n          }, option.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)]\n      }, question.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: !allQuestionsAnswered || submitting,\n          className: \"btn btn-primary btn-lg\",\n          children: submitting ? 'Submitting...' : 'Submit Survey'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(TakeSurvey, \"3RdKxCOU7Aye0SM5+bxVA7HktIM=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = TakeSurvey;\nexport default TakeSurvey;\nvar _c;\n$RefreshReg$(_c, \"TakeSurvey\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","axios","jsxDEV","_jsxDEV","TakeSurvey","_s","id","navigate","survey","setSurvey","answers","setAnswers","loading","setLoading","submitting","setSubmitting","fetchSurvey","response","get","data","error","console","handleAnswerChange","questionId","optionId","prev","handleSubmit","e","preventDefault","answersArray","Object","entries","map","selectedOptionId","parseInt","post","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","allQuestionsAnswered","questions","every","q","onClick","title","description","creatorUsername","onSubmit","question","questionText","options","option","type","name","value","onChange","required","optionText","disabled","_c","$RefreshReg$"],"sources":["/Users/siddheshgarge/React/hellp-world/src/components/TakeSurvey.js"],"sourcesContent":["// src/components/TakeSurvey.js\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n\nconst TakeSurvey = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [survey, setSurvey] = useState(null);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n\n  useEffect(() => {\n    fetchSurvey();\n  }, [id]);\n\n  const fetchSurvey = async () => {\n    try {\n      const response = await axios.get(`http://localhost:8080/api/surveys/${id}`);\n      setSurvey(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching survey:', error);\n      setLoading(false);\n    }\n  };\n\n  const handleAnswerChange = (questionId, optionId) => {\n    setAnswers(prev => ({\n      ...prev,\n      [questionId]: optionId\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSubmitting(true);\n\n    try {\n      const answersArray = Object.entries(answers).map(([questionId, selectedOptionId]) => ({\n        questionId: parseInt(questionId),\n        selectedOptionId: parseInt(selectedOptionId)\n      }));\n\n      await axios.post(`http://localhost:8080/api/surveys/${id}/respond`, {\n        answers: answersArray\n      });\n\n      alert('Survey submitted successfully!');\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Error submitting survey:', error);\n      alert('Failed to submit survey. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading survey...</div>;\n  }\n\n  if (!survey) {\n    return <div className=\"error\">Survey not found.</div>;\n  }\n\n  const allQuestionsAnswered = survey.questions.every(q => answers[q.id]);\n\n  return (\n    <div className=\"take-survey\">\n      <div className=\"survey-header\">\n        <button onClick={() => navigate('/dashboard')} className=\"btn btn-secondary\">\n          Back to Dashboard\n        </button>\n        <h1>{survey.title}</h1>\n        <p>{survey.description}</p>\n        <p className=\"survey-meta\">Created by: {survey.creatorUsername}</p>\n      </div>\n\n      <form onSubmit={handleSubmit} className=\"survey-form\">\n        {survey.questions.map((question) => (\n          <div key={question.id} className=\"question-section\">\n            <h3>{question.questionText}</h3>\n            <div className=\"options\">\n              {question.options.map((option) => (\n                <label key={option.id} className=\"option-label\">\n                  <input\n                    type=\"radio\"\n                    name={`question-${question.id}`}\n                    value={option.id}\n                    onChange={() => handleAnswerChange(question.id, option.id)}\n                    required\n                  />\n                  <span>{option.optionText}</span>\n                </label>\n              ))}\n            </div>\n          </div>\n        ))}\n\n        <div className=\"form-actions\">\n          <button\n            type=\"submit\"\n            disabled={!allQuestionsAnswered || submitting}\n            className=\"btn btn-primary btn-lg\"\n          >\n            {submitting ? 'Submitting...' : 'Submit Survey'}\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default TakeSurvey;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}